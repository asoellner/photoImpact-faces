<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <script src="http://maps.google.com/maps/api/js?sensor=true|false"
            type="text/javascript"></script>
</h:head>
<h:body>

    <h:form>
        <p:menubar>
            <p:submenu label="#{sessionBean.user.login}">
                <p:menuitem value="Logout" action="#{loginBean.logoutProject()}"/>

                <p:menuitem value="Photos" url="home.xhtml"/>
                <p:menuitem value="Gps" url="gps.xhtml"/>
            </p:submenu>
            <p:submenu label="Videos">
                <p:menuitem value="Youtube" url="
http://www.youtube.com
"/>
                <p:menuitem value="Break" url="
http://www.break.com
"/>
            </p:submenu>
        </p:menubar>
    </h:form>


    <h:form id="productListForm" prependId="false">
        <center>
            <p:outputPanel id="gmap">

                <p:gmap center="#{photoBean.getCenterOfAllPhotosMapModel()}" zoom="8" type="hybrid"
                        style="width:800px;height:600px" model="#{photoBean.getAllPhotosMapModel()}"/>
            </p:outputPanel>
        </center>


        <br/>

        <p:outputPanel id="testContainer">

            <p:dataTable id="photos" var="photo" value="#{photoBean.images}"
                         editable="false" widgetVar="documentTable">

                <p:column headerText="Photo" style="text-align: center">
                    <p:graphicImage value="#{photoBean.photo}">
                        <f:param name="pid" value="#{photo.id}" cache="false"/>
                    </p:graphicImage>

                </p:column>

                <p:column headerText="Details" style="vertical-align: top">

                    Uploaded: <h:outputText value="#{photo.date}" title="Uploaded"/><br/>
                    <p:gmap center="#{photo.gpsLatidude}, #{photo.gpsLongitude}" zoom="15" type="hybrid"
                            style="width:600px;height:400px" model="#{photoBean.getCustomMapModel(photo.id)}"
                            rendered="#{photo.gpsLatidude !=null}"/>

                </p:column>

            </p:dataTable>
        </p:outputPanel>

    </h:form>


</h:body>
</html>
